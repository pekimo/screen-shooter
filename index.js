!function e(t,n,r){function u(o,a){if(!n[o]){if(!t[o]){var c="function"==typeof require&&require;if(!a&&c)return c(o,!0);if(i)return i(o,!0);var s=new Error("Cannot find module '"+o+"'");throw s.code="MODULE_NOT_FOUND",s}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return u(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)u(r[o]);return u}({1:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var u=e("./screen-shot"),i=r(u),o=e("./utils/resize"),a=r(o),c=e("./utils/crop"),s=r(c);if(null==chrome||null==chrome.tabs)throw new Error('Error: not exist package "chrome.tabs".\n    Check "tabs" in permissions of manifest.json.\n    More info https://developer.chrome.com/extensions/tabs');var f={capture:function(){return new i["default"]},resize:function(e,t){return(0,a["default"])(e,t)},crop:function(e,t){return(0,s["default"])(e,t)}};n["default"]=f},{"./screen-shot":2,"./utils/crop":3,"./utils/resize":5}],2:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("./utils/tabs-wrapper"),a=r(o),c=e("./utils/save-image-blob"),s=r(c),f=e("./utils/resize"),l=r(f),d=e("./utils/crop"),h=r(d),p=function(){function e(){u(this,e),this._promiseData=a["default"].capture()}return i(e,[{key:"resize",value:function(e){return this._promiseData=this._promiseData.then(function(t){return(0,l["default"])(t,e)}),this}},{key:"crop",value:function(e){return this._promiseData=this._promiseData.then(function(t){return(0,h["default"])(t,e)}),this}},{key:"getBlobUrl",value:function(){return this._promiseData.then(s["default"])}},{key:"getDataUrl",value:function(){return this._promiseData}}]),e}();n["default"]=p},{"./utils/crop":3,"./utils/resize":5,"./utils/save-image-blob":6,"./utils/tabs-wrapper":7}],3:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=o["default"].notContains(t,["x","y","width","height"]);if(n)return Promise.resolve(e);var r=t.x,u=t.y,i=t.width,a=t.height;return new Promise(function(t,n){var o=document.createElement("canvas"),c=o.getContext("2d"),s=new Image;s.onload=function(){var e=r||0,n=u||0,f=i||s.width-e,l=a||s.height-n;o.width=f,o.height=l,c.drawImage(s,e,n,f,l,0,0,f,l),t(o.toDataURL())},s.src=e})}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=u;var i=e("./object-utils"),o=r(i)},{"./object-utils":4}],4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={contains:function(e,t){return t.every(function(t){return e.hasOwnProperty(t)})},notContains:function(e,t){return t.every(function(t){return!e.hasOwnProperty(t)})},containsAtLeastOne:function(e,t){return t.some(function(t){return e.hasOwnProperty(t)})}}},{}],5:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function u(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=o["default"].notContains(t,["width","height"]);if(n)return Promise.resolve(e);var r=t.width,u=t.height;return new Promise(function(t,n){var i=document.createElement("canvas"),o=i.getContext("2d"),a=new Image;a.onload=function(){var e=r||a.width,n=u||a.height;i.width=e,i.height=n,o.drawImage(a,0,0,e,n),t(i.toDataURL())},a.src=e})}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=u;var i=e("./object-utils"),o=r(i)},{"./object-utils":4}],6:[function(e,t,n){"use strict";function r(e){var t=u(e);return URL.createObjectURL(t)}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=r;var u=function(e){for(var t=";base64,",n=e.split(t),r=n[0].split(":")[1],u=window.atob(n[1]),i=u.length,o=new Uint8Array(i),a=0;i>a;++a)o[a]=u.charCodeAt(a);return new Blob([o],{type:r})}},{}],7:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var u=e("./wrap-chrome-api"),i=r(u),o=chrome,a=o.tabs,c=i["default"].bind(null,a),s={getAllCurrentWindow:function(){return c("query",{currentWindow:!0})},get:function(e){return c("get",e)},getCurrent:function(){return c("getCurrent")},isCurrent:function(e){return c("getCurrent").then(function(t){return t.id==e})},create:function(e){return c("create",{url:e})},activate:function(e){return c("update",e,{active:!0})},pin:function(e){return c("update",e,{pinned:!0})},unpin:function(e){return c("update",e,{pinned:!1})},close:function(e){return c("remove",e)},reload:function(e){return c("reload",e)},duplicate:function(e){return c("duplicate",e)},capture:function(){return c("captureVisibleTab",null,{format:"png"})}},f=["Updated","Created","Removed","Detached","Attached","Activated","Highlighted"];f.forEach(function(e){var t="on"+e,n="off"+e;s[t]=function(e){return a[t].addListener(e),s},s[n]=function(e){return a[t].removeListener(e),s}}),n["default"]=s},{"./wrap-chrome-api":8}],8:[function(e,t,n){"use strict";function r(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),u=2;n>u;u++)r[u-2]=arguments[u];return new Promise(function(n,u){e[t].apply(e,r.concat([function(e){var t=chrome.runtime.lastError;t?u(t):n(e)}]))})}Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=r},{}]},{},[1]);